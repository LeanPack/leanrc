{ db } = require '@arangodb'

migration =
  up: ->
    {read, write} = {{addonPrefix}}::SomeModel.getLocksFor '.create'
    db._executeTransaction
      collections:
        read: read
        write: write
        allowImplicit: no
      action: ->
        {{addonPrefix}}::SomeModel.someMethod()
        # <some logic>
        return
    return
  down: ->
    {read, write} = {{addonPrefix}}::SomeModel.getLocksFor '.create'
    db._executeTransaction
      collections:
        read: read
        write: write
        allowImplicit: no
      action: ->
        {{addonPrefix}}::SomeModel.someMethod()
        # <some logic>
        return
    return

module.exports = migration
